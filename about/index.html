<!doctype html>
<html lang="zh-CN">
<script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>
<script type="text/javascript" src="/plugins/prettify/prettify.js" ></script>

 
<link href="/plugins/prettify/tomorrow.css" type="text/css" rel="stylesheet" />
<link rel="stylesheet" href="/plugins/github-markdown.css">



<head>
  <meta charset="UTF-8">
  
    
    
      <link rel="stylesheet" href="/css/legend.css">
    
  
</head>
<body>

<div id="header-content">
  <div id="menu-outer">
  <div id="menu-inner">
    
      <a href="/">首页</a>
    
      <a href="/archives">归档</a>
    
      <a href="/about">关于</a>
    
  </div>
</div> 
  <div id="content-outer">
    <div id="content-inner">
      
      
  <article class="markdown-body">
   
    <pre><code class="obj-c">NSString *londonWeatherUrl = @&quot;http://api.openweathermap.org/data/2.5/weather?q=London,uk&quot; ;
</code></pre>
<p>首先，使用<strong>NSURLConnection</strong>会这么做：  </p>
<pre><code class="obj-c">NSURLRequest *request = [NSURLRequest requestWithURL:
[NSURL URLWithString:londonWeatherUrl]];
[NSURLConnection sendAsynchronousRequest:request queue:[NSOperationQueue mainQueue] completionHandler:^(NSURLResponse *response,
                   NSData *data,
                   NSError *connectionError) {
  // handle response
  }];
</code></pre>
<p>那来看下<strong>NSURLSession</strong>是怎么做的。这个是<strong>NSURLSession</strong>使用的最简单方法。随后你还会看到怎样配置session，设置其他的特性，比如代理。   </p>
<pre><code class="obj-c">NSURLSession *session = [NSURLSession sharedSession];
[[session dataTaskWithURL:[NSURL URLWithString:londonWeatherUrl]
      completionHandler:^(NSData *data,
                          NSURLResponse *response,
                          NSError *error) {
        // handle response
}] resume];
</code></pre>

  </article>

  

    </div>
      <!-- 多说评论框 -->    
      
        <div class="ds-thread" data-thread-key="about/index.html" data-title="about" data-url="http://yoursite.com/about/index.html"></div>
      
  </div>
</div>
<div id="bottom-outer">
  <div id="bottom-inner">
    i红人 
    ©2016 |Powered by  
    <a href="http://hexo.io" target="_blank">Hexo</a> with theme 
    <a href="http://hexo.io" target="_blank">legend</a>
  </div>

    
      <a href="/atom.xml">
      
      <img src=/images/rss.png height="18" width="18">
      
</div> 


  
  
    <script src="/js/legend.js"></script>
  


</body>
</html>


  <script type="text/javascript">
var duoshuoQuery = {short_name:"ihongren"};
(function() {
  var ds = document.createElement('script');
  ds.type = 'text/javascript';ds.async = true;
  ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
  ds.charset = 'UTF-8';
  (document.getElementsByTagName('head')[0] 
   || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script>


<script>
$(window).on('load', function(){
   $('pre').addClass('prettyprint').attr('style', 'overflow:auto;');
   prettyPrint();
 })
</script>

